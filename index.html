<!doctype html>

<html lang=en>
<head>
  <meta charset=utf-8>
  <title>WHEN</title>
  <link href=public/css/app.css rel=stylesheet>
</head>
<body>

<div class="container">
  <input type="checkbox" id=add-entry-visiblity class="show-next-toggle" title="add new">
  <div id=add-entry class="add-entry-form"></div>
  <div class=when-list></div>
</div>

<script type=text/html id=template-entry>
  <article class="when-list__entry editable" data-id="{{ts}}">
    <section class=controls><span class="ui-label"><a class="edit action">edit</a></span></section>
    <h3 class=action-title>WHEN <span class=action-name>{{when}}</span></h3>
    <ol class=actions>
    {{#each actions}}
      <li class=action>{{.}}
    {{/each}}
    </ol>
  </article>
</script>

<script type=text/html id=template-add-entry>
<form action=# class=when-list__entry>
  <label class=action-title>WHEN <input class="ui-input action-name" value="{{when}}" name=when placeholder="doing this" required></label>
  <ol class=actions>
    {{#if actions}} {{#each actions}}
    <li class=action><input name=actions[] class="ui-input" placeholder="make sure to do that" value="{{.}}">
    {{/each}} {{else}}
    <li class=action><input name=actions[] class="ui-input" placeholder="make sure to do that" required>
    {{/if}}
  </ol>
  {{#if ts}}
  <button class=ui-button id=save type=submit>update</button>
  <span class="ui-label">or, <a class="cancel action">cancel</a></span>
  <span class="ui-label">or, <a class="delete action">delete</a></span>
  <input type=hidden name=ts value={{ts}}>
  {{else}}
  <button class=ui-button id=save type=submit>save</button>
  <span class="ui-label">or, <a class="cancel action">cancel</a></span>
  {{/if}}
</form>
</script>

<script src=public/js/handlebars.js></script>
<script src=public/js/app.js></script>
</body>
</html>
